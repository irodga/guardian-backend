<!-- Ruta: src/VaultAPI/Views/Companies/Create.cshtml -->
@model VaultAPI.Models.Dto.CreateCompanyDto

@{
    ViewData["Title"] = "Crear Nueva Empresa";
}

<h1>@ViewData["Title"]</h1>

<form method="post" action="/companies/create">
    <div class="form-group">
        <label for="companyName">Nombre de la Empresa</label>
        <input type="text" id="companyName" name="Name" class="form-control" value="@Model.Name" required placeholder="Nombre de la empresa" />
        @if (ViewData.ModelState["Name"]?.Errors.Count > 0)
        {
            <div class="error-message">
                @foreach (var error in ViewData.ModelState["Name"].Errors)
                {
                    <p>@error.ErrorMessage</p>
                }
            </div>
        }
    </div>

    <div class="form-group">
        <label for="groupId">Seleccionar Grupo</label>
        <select id="groupId" name="GroupId" class="form-control" required>
            <option value="">Seleccione un grupo</option>
            @foreach (var group in ViewBag.Groups as SelectList)
            {
                <option value="@group.Value">@group.Text</option>
            }
        </select>
        @if (ViewData.ModelState["GroupId"]?.Errors.Count > 0)
        {
            <div class="error-message">
                @foreach (var error in ViewData.ModelState["GroupId"].Errors)
                {
                    <p>@error.ErrorMessage</p>
                }
            </div>
        }
    </div>

    <div class="form-group text-center">
        <button type="submit" class="btn btn-primary">Crear Empresa</button>
    </div>
</form>

<div class="text-center mt-4">
    <a href="/companies" class="btn btn-secondary">Volver al Listado de Empresas</a>
</div>
